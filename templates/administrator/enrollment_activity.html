{% extends '../base.html' %}
{% block content %}
{% load static %}
{% include './navbar.html' %}
{% include './sidebar.html' %}

<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'primary': '#10B981',
                    'primary-dark': '#059669',
                    'primary-light': '#D1FAE5',
                }
            }
        }
    }
</script>

<div class="p-4 sm:ml-64 bg-green-50 ">
    <div class="p-4 mt-14">
        <div class="container mx-auto px-4 py-8">
            <h1 class="text-4xl font-bold mb-8 text-primary-dark text-center">Enrollment & Activity Dashboard</h1>
    
            <!-- Enrollment Summary -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold mb-6 text-primary-dark">Enrollment Summary</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-primary transition duration-300 hover:shadow-lg">
                        <h3 class="text-lg font-medium mb-2 text-gray-600">Total Enrollments</h3>
                        <p class="text-3xl font-bold text-primary">12,345</p>
                    </div>
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-primary transition duration-300 hover:shadow-lg">
                        <h3 class="text-lg font-medium mb-2 text-gray-600">New Enrollments</h3>
                        <p class="text-3xl font-bold text-primary">1,234</p>
                    </div>
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-primary transition duration-300 hover:shadow-lg">
                        <h3 class="text-lg font-medium mb-2 text-gray-600">Dropouts</h3>
                        <p class="text-3xl font-bold text-primary">123</p>
                    </div>
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-primary transition duration-300 hover:shadow-lg">
                        <h3 class="text-lg font-medium mb-2 text-gray-600">Active Courses</h3>
                        <p class="text-3xl font-bold text-primary">25</p>
                    </div>
                </div>
                <div class="mt-8 bg-white p-6 rounded-xl shadow-md">
                    <h3 class="text-xl font-semibold mb-4 text-primary-dark">Enrollment Trend</h3>
                    <canvas id="enrollmentTrend"></canvas>
                </div>
            </section>
    
            <!-- User Activity -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold mb-6 text-primary-dark">User Activity</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-primary transition duration-300 hover:shadow-lg">
                        <h3 class="text-lg font-medium mb-2 text-gray-600">Average Daily Active Users</h3>
                        <p class="text-3xl font-bold text-primary">3,456</p>
                    </div>
                    <div class="bg-white rounded-xl shadow-md p-6 border-l-4 border-primary transition duration-300 hover:shadow-lg">
                        <h3 class="text-lg font-medium mb-2 text-gray-600">Average Time Spent (per user/day)</h3>
                        <p class="text-3xl font-bold text-primary">2h 15m</p>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-md p-6">
                    <h3 class="text-xl font-semibold mb-4 text-primary-dark">Most Accessed Courses</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left text-gray-500">
                            <thead class="text-xs text-primary-dark uppercase bg-primary-light">
                                <tr>
                                    <th scope="col" class="px-6 py-3 rounded-tl-lg">Course Name</th>
                                    <th scope="col" class="px-6 py-3">Total Access</th>
                                    <th scope="col" class="px-6 py-3 rounded-tr-lg">Avg. Time Spent</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-white border-b border-primary-light">
                                    <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">Introduction to Programming</th>
                                    <td class="px-6 py-4">15,234</td>
                                    <td class="px-6 py-4">1h 45m</td>
                                </tr>
                                <tr class="bg-white border-b border-primary-light">
                                    <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">Data Science Fundamentals</th>
                                    <td class="px-6 py-4">12,567</td>
                                    <td class="px-6 py-4">2h 30m</td>
                                </tr>
                                <tr class="bg-white">
                                    <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">Web Development Bootcamp</th>
                                    <td class="px-6 py-4">10,890</td>
                                    <td class="px-6 py-4">3h 15m</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
    
            <!-- Individual User Reports -->
            <section>
                <h2 class="text-2xl font-semibold mb-6 text-primary-dark">Individual User Reports</h2>
                <div class="mb-6">
                    <label for="user-select" class="block mb-2 text-sm font-medium text-gray-900">Select User</label>
                    <select id="user-select" class="bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary focus:border-primary block w-full p-2.5">
                        <option selected>Choose a user</option>
                        <option value="1">John Doe</option>
                        <option value="2">Jane Smith</option>
                        <option value="3">Bob Johnson</option>
                    </select>
                </div>
                <div id="user-report" class="bg-white rounded-xl shadow-md p-6">
                    <h3 class="text-xl font-semibold mb-6 text-primary-dark">User Report: <span id="user-name">John Doe</span></h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-primary-light rounded-lg p-4">
                            <h4 class="text-lg font-medium mb-2 text-primary-dark">Login History</h4>
                            <ul class="list-disc list-inside text-gray-700">
                                <li>2023-05-01 09:15 AM (192.168.1.1)</li>
                                <li>2023-04-30 02:30 PM (192.168.1.1)</li>
                                <li>2023-04-29 10:45 AM (192.168.1.1)</li>
                            </ul>
                        </div>
                        <div class="bg-primary-light rounded-lg p-4">
                            <h4 class="text-lg font-medium mb-2 text-primary-dark">Enrolled Courses</h4>
                            <ul class="list-disc list-inside text-gray-700">
                                <li>Introduction to Programming (Progress: 75%)</li>
                                <li>Data Science Fundamentals (Progress: 40%)</li>
                                <li>Web Development Bootcamp (Progress: 10%)</li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <h4 class="text-lg font-medium mb-4 text-primary-dark">Recent Assignment Submissions</h4>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left text-gray-500">
                                <thead class="text-xs text-primary-dark uppercase bg-primary-light">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 rounded-tl-lg">Assignment</th>
                                        <th scope="col" class="px-6 py-3">Course</th>
                                        <th scope="col" class="px-6 py-3">Submission Date</th>
                                        <th scope="col" class="px-6 py-3 rounded-tr-lg">Grade</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white border-b border-primary-light">
                                        <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">Programming Assignment 1</th>
                                        <td class="px-6 py-4">Introduction to Programming</td>
                                        <td class="px-6 py-4">2023-04-28</td>
                                        <td class="px-6 py-4">90%</td>
                                    </tr>
                                    <tr class="bg-white">
                                        <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">Data Analysis Project</th>
                                        <td class="px-6 py-4">Data Science Fundamentals</td>
                                        <td class="px-6 py-4">2023-04-25</td>
                                        <td class="px-6 py-4">85%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    
        <script>
            // Enrollment Trend Chart
            const ctx = document.getElementById('enrollmentTrend').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Enrollments',
                        data: [1000, 1500, 2000, 2500, 3000, 3500],
                        borderColor: '#10B981',
                        backgroundColor: '#D1FAE5',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: '#E5E7EB'
                            }
                        },
                        x: {
                            grid: {
                                color: '#E5E7EB'
                            }
                        }
                    }
                }
            });
        </script>



{% endblock %}