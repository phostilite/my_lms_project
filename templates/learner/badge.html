{% extends '../base.html' %}
{% block content %}
{% include './navbar.html' %}
{% include './sidebar.html' %}

<div class="p-8 sm:ml-64 mt-14">
    <h1 class="text-3xl font-bold mb-8">My Badges</h1>

    <!-- Search and Filters -->
    <div class="bg-white p-6 rounded-lg shadow mb-8">
        <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 md:space-x-4">
            <div class="w-full md:w-1/3">
                <label for="search" class="sr-only">Search badges</label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fas fa-search text-gray-400"></i>
                    </div>
                    <input type="text" id="search" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5" placeholder="Search badges">
                </div>
            </div>
            <div class="flex space-x-4">
                <select id="category-filter" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5">
                    <option selected>All Categories</option>
                    <option>Course Completion</option>
                    <option>Skill Mastery</option>
                    <option>Achievements</option>
                </select>
                <select id="status-filter" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5">
                    <option selected>All Statuses</option>
                    <option>Unlocked</option>
                    <option>Locked</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Badges Grid -->
<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    <!-- Unlocked Badges -->
    <div class="bg-white rounded-lg shadow p-6 flex flex-col items-center">
        <i class="fas fa-python text-6xl mb-4 text-blue-500"></i>
        <h3 class="text-lg font-semibold mb-2">Python Master</h3>
        <p class="text-sm text-gray-600 mb-4 text-center">Completed all Python courses</p>
        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
            <i class="fas fa-check-circle mr-2"></i>Unlocked
        </span>
    </div>

    <div class="bg-white rounded-lg shadow p-6 flex flex-col items-center">
        <i class="fas fa-globe text-6xl mb-4 text-indigo-500"></i>
        <h3 class="text-lg font-semibold mb-2">Web Wizard</h3>
        <p class="text-sm text-gray-600 mb-4 text-center">Created 5 web projects</p>
        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
            <i class="fas fa-check-circle mr-2"></i>Unlocked
        </span>
    </div>

    <!-- Locked Badges -->
    <div class="bg-white rounded-lg shadow p-6 flex flex-col items-center opacity-50">
        <i class="fas fa-chart-bar text-6xl mb-4 text-gray-400"></i>
        <h3 class="text-lg font-semibold mb-2">Data Science Guru</h3>
        <p class="text-sm text-gray-600 mb-4 text-center">Complete all Data Science courses</p>
        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800">
            <i class="fas fa-lock mr-2"></i>Locked
        </span>
    </div>

    <div class="bg-white rounded-lg shadow p-6 flex flex-col items-center opacity-50">
        <i class="fas fa-robot text-6xl mb-4 text-gray-400"></i>
        <h3 class="text-lg font-semibold mb-2">AI Pioneer</h3>
        <p class="text-sm text-gray-600 mb-4 text-center">Build an AI project</p>
        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800">
            <i class="fas fa-lock mr-2"></i>Locked
        </span>
    </div>

    <!-- Add more badge items here -->
</div>

    <!-- Pagination -->
    <div class="flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 mt-8 rounded-lg shadow">
        <div class="flex flex-1 justify-between sm:hidden">
            <a href="#" class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50">Previous</a>
            <a href="#" class="relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50">Next</a>
        </div>
        <div class="hidden sm:flex sm:flex-1 sm:items-center sm:justify-between">
            <div>
                <p class="text-sm text-gray-700">
                    Showing <span class="font-medium">1</span> to <span class="font-medium">10</span> of <span class="font-medium">97</span> results
                </p>
            </div>
            <div>
                <nav class="isolate inline-flex -space-x-px rounded-md shadow-sm" aria-label="Pagination">
                    <a href="#" class="relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0">
                        <span class="sr-only">Previous</span>
                        <i class="fas fa-chevron-left h-5 w-5"></i>
                    </a>
                    <a href="#" aria-current="page" class="relative z-10 inline-flex items-center bg-indigo-600 px-4 py-2 text-sm font-semibold text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">1</a>
                    <a href="#" class="relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0">2</a>
                    <a href="#" class="relative hidden items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 md:inline-flex">3</a>
                    <span class="relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700 ring-1 ring-inset ring-gray-300 focus:outline-offset-0">...</span>
                    <a href="#" class="relative hidden items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 md:inline-flex">8</a>
                    <a href="#" class="relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0">9</a>
                    <a href="#" class="relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0">10</a>
                    <a href="#" class="relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0">
                        <span class="sr-only">Next</span>
                        <i class="fas fa-chevron-right h-5 w-5"></i>
                    </a>
                </nav>
            </div>
        </div>
    </div>
</div>

<script>
    // Add JavaScript for search and filter functionality
    document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.getElementById('search');
        const categoryFilter = document.getElementById('category-filter');
        const statusFilter = document.getElementById('status-filter');
        const badges = document.querySelectorAll('.grid > div');

        function filterBadges() {
            const searchTerm = searchInput.value.toLowerCase();
            const category = categoryFilter.value;
            const status = statusFilter.value;

            badges.forEach(badge => {
                const title = badge.querySelector('h3').textContent.toLowerCase();
                const badgeCategory = badge.dataset.category; // You'll need to add this data attribute to your badge elements
                const badgeStatus = badge.querySelector('span').textContent.includes('Unlocked') ? 'Unlocked' : 'Locked';

                const matchesSearch = title.includes(searchTerm);
                const matchesCategory = category === 'All Categories' || badgeCategory === category;
                const matchesStatus = status === 'All Statuses' || badgeStatus === status;

                if (matchesSearch && matchesCategory && matchesStatus) {
                    badge.style.display = 'flex';
                } else {
                    badge.style.display = 'none';
                }
            });
        }

        searchInput.addEventListener('input', filterBadges);
        categoryFilter.addEventListener('change', filterBadges);
        statusFilter.addEventListener('change', filterBadges);
    });
</script>

{% endblock %}