{% extends '../base.html' %}
{% block content %}
{% include './navbar.html' %}
{% include './sidebar.html' %}

<div class="p-8 sm:ml-64 mt-14">
    <h1 class="text-3xl font-bold mb-8">Leaderboard</h1>

    <!-- Leaderboard Filters -->
    <div class="bg-white p-6 rounded-lg shadow mb-8">
        <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 md:space-x-4">
            <div class="w-full md:w-1/3">
                <label for="category" class="block mb-2 text-sm font-medium text-gray-900">Category</label>
                <select id="category" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                    <option selected>Overall</option>
                    <option>Python</option>
                    <option>Web Development</option>
                    <option>Data Science</option>
                    <option>Machine Learning</option>
                </select>
            </div>
            <div class="w-full md:w-1/3">
                <label for="time-period" class="block mb-2 text-sm font-medium text-gray-900">Time Period</label>
                <select id="time-period" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                    <option selected>All Time</option>
                    <option>This Month</option>
                    <option>This Week</option>
                    <option>Today</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Leaderboard Table -->
    <div class="bg-white rounded-lg shadow overflow-hidden">
        <table class="w-full text-sm text-left text-gray-500">
            <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                <tr>
                    <th scope="col" class="px-6 py-3">Rank</th>
                    <th scope="col" class="px-6 py-3">User</th>
                    <th scope="col" class="px-6 py-3">Score</th>
                    <th scope="col" class="px-6 py-3">Badges</th>
                    <th scope="col" class="px-6 py-3">Certificates</th>
                </tr>
            </thead>
            <tbody>
                <tr class="bg-white border-b hover:bg-gray-50">
                    <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
                        <div class="flex items-center">
                            <span class="text-2xl font-bold text-yellow-500 mr-2">1</span>
                            <i class="fas fa-trophy text-yellow-500"></i>
                        </div>
                    </th>
                    <td class="px-6 py-4">
                        <div class="flex items-center">
                            <img class="w-10 h-10 rounded-full mr-3" src="https://via.placeholder.com/40" alt="User Avatar">
                            <div>
                                <p class="font-semibold text-gray-900">John Doe</p>
                                <p class="text-xs text-gray-500">Joined 2 years ago</p>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 font-semibold text-gray-900">9850</td>
                    <td class="px-6 py-4">
                        <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded">25</span>
                    </td>
                    <td class="px-6 py-4">
                        <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded">12</span>
                    </td>
                </tr>
                <tr class="bg-white border-b hover:bg-gray-50">
                    <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
                        <div class="flex items-center">
                            <span class="text-xl font-bold text-gray-500 mr-2">2</span>
                            <i class="fas fa-medal text-gray-500"></i>
                        </div>
                    </th>
                    <td class="px-6 py-4">
                        <div class="flex items-center">
                            <img class="w-10 h-10 rounded-full mr-3" src="https://via.placeholder.com/40" alt="User Avatar">
                            <div>
                                <p class="font-semibold text-gray-900">Jane Smith</p>
                                <p class="text-xs text-gray-500">Joined 1 year ago</p>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 font-semibold text-gray-900">9600</td>
                    <td class="px-6 py-4">
                        <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded">22</span>
                    </td>
                    <td class="px-6 py-4">
                        <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded">11</span>
                    </td>
                </tr>
                <!-- Add more rows for other users -->
            </tbody>
        </table>
    </div>

    <!-- Pagination -->
    <div class="flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 mt-8 rounded-lg shadow">
        <div class="flex flex-1 justify-between sm:hidden">
            <a href="#" class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50">Previous</a>
            <a href="#" class="relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50">Next</a>
        </div>
        <div class="hidden sm:flex sm:flex-1 sm:items-center sm:justify-between">
            <div>
                <p class="text-sm text-gray-700">
                    Showing <span class="font-medium">1</span> to <span class="font-medium">10</span> of <span class="font-medium">97</span> results
                </p>
            </div>
            <div>
                <nav class="isolate inline-flex -space-x-px rounded-md shadow-sm" aria-label="Pagination">
                    <a href="#" class="relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0">
                        <span class="sr-only">Previous</span>
                        <i class="fas fa-chevron-left h-5 w-5"></i>
                    </a>
                    <a href="#" aria-current="page" class="relative z-10 inline-flex items-center bg-indigo-600 px-4 py-2 text-sm font-semibold text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">1</a>
                    <a href="#" class="relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0">2</a>
                    <a href="#" class="relative hidden items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 md:inline-flex">3</a>
                    <span class="relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700 ring-1 ring-inset ring-gray-300 focus:outline-offset-0">...</span>
                    <a href="#" class="relative hidden items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 md:inline-flex">8</a>
                    <a href="#" class="relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0">9</a>
                    <a href="#" class="relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0">10</a>
                    <a href="#" class="relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0">
                        <span class="sr-only">Next</span>
                        <i class="fas fa-chevron-right h-5 w-5"></i>
                    </a>
                </nav>
            </div>
        </div>
    </div>
</div>

<script>
    // Add JavaScript for filter functionality
    document.addEventListener('DOMContentLoaded', function() {
        const categoryFilter = document.getElementById('category');
        const timePeriodFilter = document.getElementById('time-period');

        function applyFilters() {
            const category = categoryFilter.value;
            const timePeriod = timePeriodFilter.value;
            
            // Here you would typically make an AJAX call to fetch filtered data
            console.log(`Fetching leaderboard for ${category} category, time period: ${timePeriod}`);
            // Update the leaderboard table with the new data
        }

        categoryFilter.addEventListener('change', applyFilters);
        timePeriodFilter.addEventListener('change', applyFilters);
    });
</script>

{% endblock %}